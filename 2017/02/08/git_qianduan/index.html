<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>前端 Git 工作流(le) | 风中劲草</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="前端 Git 工作流(le)0 说明本工作流参考自后端 git 工作流，核心思想来自 Forking Workflow。 0.1 目的我们的开发过程围绕着本工作流展开，同时我们希望的达到这样的目标：  能够持续交付：我们没有固定的发布周期，我们希望主干版本的代码在任何时刻都是可部署的，更改一经通过审查就可以直接上线，这样我们才能很快地发布新的功能或者 Bug 修复，从而快速地获得用户对修改的反馈。">
<meta name="keywords" content="git">
<meta property="og:type" content="article">
<meta property="og:title" content="前端 Git 工作流(le)">
<meta property="og:url" content="http://yoursite.com/2017/02/08/git_qianduan/index.html">
<meta property="og:site_name" content="风中劲草">
<meta property="og:description" content="前端 Git 工作流(le)0 说明本工作流参考自后端 git 工作流，核心思想来自 Forking Workflow。 0.1 目的我们的开发过程围绕着本工作流展开，同时我们希望的达到这样的目标：  能够持续交付：我们没有固定的发布周期，我们希望主干版本的代码在任何时刻都是可部署的，更改一经通过审查就可以直接上线，这样我们才能很快地发布新的功能或者 Bug 修复，从而快速地获得用户对修改的反馈。">
<meta property="og:updated_time" content="2017-06-24T05:48:45.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="前端 Git 工作流(le)">
<meta name="twitter:description" content="前端 Git 工作流(le)0 说明本工作流参考自后端 git 工作流，核心思想来自 Forking Workflow。 0.1 目的我们的开发过程围绕着本工作流展开，同时我们希望的达到这样的目标：  能够持续交付：我们没有固定的发布周期，我们希望主干版本的代码在任何时刻都是可部署的，更改一经通过审查就可以直接上线，这样我们才能很快地发布新的功能或者 Bug 修复，从而快速地获得用户对修改的反馈。">
  
    <link rel="alternate" href="/atom.xml" title="风中劲草" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">风中劲草</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">哈哈哈哈哈</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-git_qianduan" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/02/08/git_qianduan/" class="article-date">
  <time datetime="2017-02-08T07:02:06.000Z" itemprop="datePublished">2017-02-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      前端 Git 工作流(le)
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="前端-Git-工作流-le"><a href="#前端-Git-工作流-le" class="headerlink" title="前端 Git 工作流(le)"></a>前端 Git 工作流(le)</h1><h2 id="0-说明"><a href="#0-说明" class="headerlink" title="0 说明"></a>0 说明</h2><p>本工作流参考自<a href="http://wiki.letv.cn/pages/viewpage.action?pageId=53415515" target="_blank" rel="external">后端 git 工作流</a>，核心思想来自 Forking Workflow。</p>
<h3 id="0-1-目的"><a href="#0-1-目的" class="headerlink" title="0.1 目的"></a>0.1 目的</h3><p>我们的开发过程围绕着本工作流展开，同时我们希望的达到这样的目标：</p>
<ul>
<li>能够持续交付：我们没有固定的发布周期，我们希望主干版本的代码在任何时刻都是可部署的，更改一经通过审查就可以直接上线，这样我们才能很快地发布新的功能或者 Bug 修复，从而快速地获得用户对修改的反馈。</li>
<li>方便代码审查：我们很重视代码审查，所以这个流程对代码审查功能很友好。</li>
<li>使用代码沟通：代码是工程师沟通的最直接的渠道。我们希望每一次的更改提交都是独立的，专注并只专注一件事情，这样，我们就很容易地去了解这次更改背后要传达的信息。<h3 id="0-2-工具"><a href="#0-2-工具" class="headerlink" title="0.2 工具"></a>0.2 工具</h3></li>
</ul>
<table>
<thead>
<tr>
<th>软件</th>
<th>版本</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Git</td>
<td>2.9+</td>
<td></td>
</tr>
<tr>
<td>Gitlab</td>
<td></td>
<td><a href="http://legitlab.letv.cn" target="_blank" rel="external">legitlab.letv.cn</a></td>
</tr>
<tr>
<td>WebStorm/IDEA</td>
<td>2016.2+</td>
<td>图形化 Git 工具</td>
</tr>
</tbody>
</table>
<h3 id="0-3-角色"><a href="#0-3-角色" class="headerlink" title="0.3 角色"></a>0.3 角色</h3><table>
<thead>
<tr>
<th>权限</th>
<th>Developer(开发者)</th>
<th>Master(管理员) &amp; Owner(所有者)</th>
</tr>
</thead>
<tbody>
<tr>
<td>pull Project 代码</td>
<td>✓</td>
<td>✓</td>
</tr>
<tr>
<td>创建 merge request</td>
<td>✓</td>
<td>✓</td>
</tr>
<tr>
<td>创建 branch</td>
<td>✓</td>
<td>✓</td>
</tr>
<tr>
<td>push 代码到非保护分支</td>
<td>✓</td>
<td>✓</td>
</tr>
<tr>
<td>merge 和 push 代码到保护分支</td>
<td></td>
<td>✓</td>
</tr>
<tr>
<td>为 Project 分配 Master 和 Developer 权限</td>
<td></td>
<td>✓</td>
</tr>
</tbody>
</table>
<p>Project 的角色可以从团队角色中继承而来，也可以由团队 Master（或 Owner ）单独提升开发者在某 Project 内的角色。</p>
<h2 id="1-仓库"><a href="#1-仓库" class="headerlink" title="1 仓库"></a>1 仓库</h2><h3 id="1-1-Group"><a href="#1-1-Group" class="headerlink" title="1.1 Group"></a>1.1 Group</h3><p>Group 是 Project 主仓库的集合，地址: <a href="http://legitlab.letv.cn/groups/levp-membership-fe" target="_blank" rel="external">🚩levp-membership-fe</a></p>
<h3 id="1-2-Project-主仓库"><a href="#1-2-Project-主仓库" class="headerlink" title="1.2 Project 主仓库"></a>1.2 Project 主仓库</h3><ul>
<li>Project 主仓库是以工程为单位来划分的。</li>
<li>Project 主仓库由团队 Master（或 Owner ）创建和维护。</li>
</ul>
<h2 id="2-分支"><a href="#2-分支" class="headerlink" title="2 分支"></a>2 分支</h2><p>Project 主仓库中仅含有1个 master 分支、1个 dev 分支和若干个 hotfix 分支，其中 master 分支和 dev 分支为保护分支。</p>
<h3 id="2-1-master-分支"><a href="#2-1-master-分支" class="headerlink" title="2.1 master 分支"></a>2.1 master 分支</h3><ul>
<li>master 分支由团队 Master（或 Owner ）创建和维护。</li>
<li>master 分支上的代码版本须于生产环境保持一致，每个 commit 必须对应版本 Tag。</li>
<li>master 分支关联至生产环境 CI 系统。</li>
</ul>
<h3 id="2-2-dev-分支"><a href="#2-2-dev-分支" class="headerlink" title="2.2 dev 分支"></a>2.2 dev 分支</h3><ul>
<li>dev 分支由团队 Master（或 Owner ）创建和维护。</li>
<li>dev 分支关联至测试环境 CI 系统。</li>
</ul>
<h3 id="2-3-hotfix-分支"><a href="#2-3-hotfix-分支" class="headerlink" title="2.3 hotfix 分支"></a>2.3 hotfix 分支</h3><ul>
<li>hotfix 分支的名称由 “hotfix” + “-“ + “自定义名称” 组成。</li>
<li>hotfix 分支由团队 Developer 或 Master（或 Owner ）创建和维护。</li>
<li>hotfix 分支在被合并回 master 后要及时删除。</li>
<li>hotfix 分支遵循谁创建谁维护谁删除的原则。</li>
</ul>
<h2 id="3-Fork-开发流程"><a href="#3-Fork-开发流程" class="headerlink" title="3 Fork 开发流程"></a>3 Fork 开发流程</h2><p>Fork 开发流程适用于正常的开发过程。</p>
<h3 id="3-1-Fork"><a href="#3-1-Fork" class="headerlink" title="3.1 Fork"></a>3.1 Fork</h3><p>Developer 从主仓库 Fork 主仓库的 dev 分支至私有仓库，然后在自己的私有仓库进行新功能的开发或 Bug 的修复。</p>
<h3 id="3-2-Merge-Request"><a href="#3-2-Merge-Request" class="headerlink" title="3.2 Merge Request"></a>3.2 Merge Request</h3><ul>
<li>开发完成后，需要在 Gitlab 创建 Merge Request 申请合并私有仓库的某分支到 Project 主仓库的 dev 分支。</li>
<li>有些时候，开发者在 Fork 代码后，创建 Merge Request 前，Project 主仓库可能已经接受了其他的 Merge Request，因此在合并前，开发者需要 pull Project 主仓库 dev 分支，到私有仓库需要合并的分支进行预合并。</li>
<li>发起 Merge Request 时要有详尽的说明描述本次合并请求的目的。</li>
<li>Merge Request 须指定给一名 Master（或 Owner ）做 Code Review 和 Merge，指定后须在自己的私有仓库给此 Master（或 Owner ）开放至少为 Developer 的角色权限。</li>
</ul>
<h3 id="3-3-Code-Review-amp-Merge"><a href="#3-3-Code-Review-amp-Merge" class="headerlink" title="3.3 Code Review &amp; Merge"></a>3.3 Code Review &amp; Merge</h3><p>Master（或 Owner ）按照研发规范对 Merge Request 进行代码审查，审查通过后合并至 dev 分支，审查不通过的需要驳回 Merge Request 并注明理由。</p>
<h3 id="3-4-Release"><a href="#3-4-Release" class="headerlink" title="3.4 Release"></a>3.4 Release</h3><p>当新的版本需要对外发布时， Master（或 Owner ）需要将 dev 分支合并入 master 分支并用 Tag 标明版本。</p>
<h2 id="4-Hotfix-开发流程"><a href="#4-Hotfix-开发流程" class="headerlink" title="4 Hotfix 开发流程"></a>4 Hotfix 开发流程</h2><p>Hotfix 开发流程适用于需要紧急修复线上 Bug 的情景，并作为 Fork 开发流程的补充。</p>
<h3 id="4-1-New-Branch"><a href="#4-1-New-Branch" class="headerlink" title="4.1 New Branch"></a>4.1 New Branch</h3><ul>
<li>当生产环境代码有急需修复的 Bug 时，从 master 分支新建 hotfix Branch。</li>
<li>开发者在 hotfix 分支完成 Bug 的修复。</li>
</ul>
<h3 id="4-2-Merge-Request"><a href="#4-2-Merge-Request" class="headerlink" title="4.2 Merge Request"></a>4.2 Merge Request</h3><p>修复完成后开发者发起 Merge Request 申请合并 hotfix 分支到 master 分支。</p>
<h3 id="4-3-Code-Review-amp-Merge-amp-Release"><a href="#4-3-Code-Review-amp-Merge-amp-Release" class="headerlink" title="4.3 Code Review &amp; Merge &amp; Release"></a>4.3 Code Review &amp; Merge &amp; Release</h3><ul>
<li>Master（或 Owner ）按照研发规范对 Merge Request 进行代码审查，审查通过后合并至 master 分支，分支并用 Tag 标明版本，审查不通过的需要驳回 Merge Request 并注明理由。</li>
<li>Master（或 Owner ）完成 master 的合并后，需要同时将 master 分支合并至 dev 分支，以保证修复 dev 分支上对应的 Bug。</li>
</ul>
<h3 id="4-4-删除分支"><a href="#4-4-删除分支" class="headerlink" title="4.4 删除分支"></a>4.4 删除分支</h3><p>当 hotfix 分支的合并被接受并完成发布后，创建者需要及时删除该分支。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/02/08/git_qianduan/" data-id="cj4aza1ng000cj2s6y0vrl12e" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/git/">git</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2017/02/08/git_forking/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          git forking 工作流
        
      </div>
    </a>
  
  
    <a href="/2016/12/12/audio/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">audio音频在移动端无法自动播放的问题</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/IE8/">IE8</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript-jQuery/">JavaScript jQuery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/css/">css</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/html/">html</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript/">javascript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jquery/">jquery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jquery-vue-react/">jquery vue react</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vue/">vue</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webstorm/">webstorm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/移动端/">移动端</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/IE8/" style="font-size: 10px;">IE8</a> <a href="/tags/JavaScript-jQuery/" style="font-size: 10px;">JavaScript jQuery</a> <a href="/tags/css/" style="font-size: 13.33px;">css</a> <a href="/tags/git/" style="font-size: 13.33px;">git</a> <a href="/tags/html/" style="font-size: 10px;">html</a> <a href="/tags/javascript/" style="font-size: 20px;">javascript</a> <a href="/tags/jquery/" style="font-size: 16.67px;">jquery</a> <a href="/tags/jquery-vue-react/" style="font-size: 10px;">jquery vue react</a> <a href="/tags/vue/" style="font-size: 13.33px;">vue</a> <a href="/tags/webstorm/" style="font-size: 10px;">webstorm</a> <a href="/tags/移动端/" style="font-size: 13.33px;">移动端</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">December 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">November 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">October 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">September 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">August 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">July 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">June 2016</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/06/24/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/2017/06/18/jq_react_vue/">jquery与vue、react的区别</a>
          </li>
        
          <li>
            <a href="/2017/05/28/decimalpx/">小数像素问题</a>
          </li>
        
          <li>
            <a href="/2017/04/25/vue2_vue1/">vue2.0与1.0比较</a>
          </li>
        
          <li>
            <a href="/2017/04/25/vue2/">vue2.0笔记</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 Jawesome<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>